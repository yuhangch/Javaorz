# 锁

## Q1:如何进行锁优化

1. 减少锁持有时间：减少同步代码块对锁的持有时间。
2. 减小锁粒度：将单个耗时较多的锁操作拆分为多个耗时较少的锁操作来增加锁的并行度。典型ConcurrentHashMap
3. 锁分离：不同应用场景的锁功能进行分离，应对不同的变化，如ReadWriteLock（读写锁）。
4. 锁粗化：锁分的太细，系统频繁获取锁和释放锁，反而影响性能。这种情况下，建议将关联性强的锁操作集中起来。
5. 锁消除：检查不必要的锁。